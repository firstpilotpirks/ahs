#language: cpp
#
#env:
#  global:
#   - LINUX_DIST=xenial
#
#addons:
# apt:
#  packages:
#   - gcc
#   - cmake
#   - cmake-data
#   - clang
#   - libboost-all-dev
#
#matrix:
#  include:
#    - os: linux
#      dist: xenial
#      sudo: true
#      compiler: clang
#      script:
#       - mkdir -p build
#       - cd build
#       - cmake ..
#       - make
#       - cd ../bin
#       - ./test_runner  --log_level=all --color=true
#
#    - os: linux
#      dist: xenial
#      sudo: true
#      compiler: gcc
#      script:
#       - mkdir -p build
#       - cd build
#       - cmake ..
#       - make
#       - cd ../bin
#       - ./test_runner  --log_level=all --color=true

#install:
#    sudo apt-get install -yf libboost-all-dev clang

# - export CXX=/usr/bin/clang++
# - export CC=/usr/bin/clang


# Use new trusty images, should yield newer compilers and packages
sudo: required
os: linux
dist: xenial
language: cpp

addons:
 apt:
  packages:
   - gcc
   - clang
   - cmake
   - cmake-data
   - libboost-all-dev

matrix:
  include:
    - compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++
          env:
            CXX=/usr/bin/g++
            CC=/usr/bin/gcc

    - compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - clang
          env:
            CXX=/usr/bin/clang++
            CC=/usr/bin/clang

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -y libboost-all-dev

script:
  - mkdir build
  - cd build
  - cmake .. && make


